<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link href="java.css" rel="stylesheet" type="text/css">
<title>Unicode to Java string literal converter</title>

<script type="text/javascript" LANGUAGE="JavaScript1.3">
<!-- //

function hexdigit(v) {
   symbs = "0123456789ABCDEF";
   return symbs.charAt(v & 0x0f);
}

function hexval(v) {
   return hexdigit(v >>> 12) + hexdigit(v >>> 8) + hexdigit(v >>> 4) + hexdigit(v);
}

function uni2j(val) {
   if (val == 10) return "\\n"
   else if (val == 13) return "\\r"
   else if (val == 92) return "\\\\"
   else if (val == 34) return "\\\""
   else if (val < 32 || val > 126) return "\\u" + hexval(val)
   else return String.fromCharCode(val);
}

function uni2java(uni, fld_java) {
   lit = '"';
   for (i = 0; i < uni.length; i++) {
      v = uni.charCodeAt(i);
      lit = lit + uni2j(v);
   }

   fld_java.value = lit + '"';
}

function inchange() {
   uni2java(document.foo.inbox.value, document.foo.outjava);
}
// -->
</script>

</head>
<body>
<h1>Unicode to Java string literal converter</h1>
<!-- I'm not sure if this is valid HTML, perhaps I should use an onSubmit() which
     returns false here to block a server call... -->
<form name=foo>
Unicode text:
<textarea name=inbox rows=10 cols=64></textarea>
<br>
<br>
Java string literal:
<textarea name=outjava rows=10 cols=64
>(leave this blank -- convert fills it)</textarea><br>
<br>
<input name=inbutton type=button value="Convert!" onClick="inchange()">
</form><br>
<br>
Cut and paste symbol font text into the 'Unicode' field and click 'Convert!' to get Java string literal translation.  This page requires Netscape 4.5, IE 5, Mozilla 0.9x, or other JavaScript 1.3-compatible browser.<br>
<hr>
<font size=-2>Copyright 2001 by <a href="mailto:esnible@acm.org">Ed Snible</a> and released under an appropriate open source license.</font><br>
<br>
<a href="/java2/">Back up to Java page</a>.
</body>
</html>
